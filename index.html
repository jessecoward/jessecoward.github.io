<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<style type="text/css">
    td {
        text-align: center;
        height: 50px;
        border-bottom: 1px solid gray;
    }

    a {
        padding: 5px 10px;
        background: red;
        color: #fff;
        font-weight: bold;
        border-radius: 5px;
        text-align: center;
    }

    tr:last-child td {
        border: none;
    }
</style>

<body>
    <table cellspacing="0" cellpadding="0">
        <tr>
            <td width="150px">NO</td>
            <td width="150px">name</td>
            <td width="300px">Quantity</td>
            <td width="150px">price</td>
            <td width="150px">total</td>

        </tr>
        <tr>
            <td width="150px">31</td>
            <td width="150px">iphhone</td>
            <td width="300px">
                <button>-</button>
                <input type="text" value="0">
                <button>+</button>
            </td>
            <td width="150px">$4000</td>
            <td width="150px">0</td>
            <td width="150px"><a class="a">move</a></td>
        </tr>
        <tr>
            <td width="150px">52</td>
            <td width="150px">NOKIA</td>
            <td width="300px">
                <button>-</button>
                <input type="text" value="0">
                <button>+</button>
            </td>
            <td width="150px">$2000</td>
            <td width="150px">0</td>
            <td width="150px"><a class="a">move</a></td>
        </tr>
        <tr>
            <td width="150px">77</td>
            <td width="150px">Samng</td>
            <td width="300px">
                <button>-</button>
                <input type="text" value="0">
                <button>+</button>
            </td>
            <td width="150px">$1000</td>
            <td width="150px">0</td>
            <td width="150px"><a class="a">move</a></td>
        </tr>
        <tr>
            <td width="150px">23</td>
            <td width="150px">qq</td>
            <td width="300px">
                <button>-</button>
                <input type="text" value="0">
                <button>+</button>
            </td>
            <td width="150px">$3000</td>
            <td width="150px">0</td>
            <td width="0px"><a class="a">move</a></td>
        </tr>
        <tr>
            <td width="150px">total</td>
            <td width="150px">0</td>
            <td width="300px"></td>
            <td width="150px"></td>
            <td width="0px"><a id="qingchu">empty cart</a></td>
            <td width="150px"></td>
        </tr>
    </table>
</body>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
    $('tr:gt(0)').each(function () {
        var jian = $(this).find('td:eq(2)').children().first()
        var jia = $(this).find('td:eq(2)').children().last()

        jian.click(function () {
            var num = $(this).next().val();
            num--;
            if (num < 0) {
                num = 0;
                if (confirm("are you sure") == true) {
                    $(this).parent().parent().remove();
                }
            }
            $(this).next().val(num);
            total($(this));
            allmoney();
        })
       
        jia.click(function () {
            var num = $(this).prev().val();
            num++;
            $(this).prev().val(num);
            total($(this));
            allmoney();
        })
    })
  
    function total(o) {
        var n = o.parent().children().first().next().val();
        var money = Number(o.parent().next().text().substr(1));
        o.parent().next().next().text(n * money);
    }

    function allmoney() {
        var num = 0;
        $('tr:not(:first):not(:last)').each(function () {
            num += Number($(this).find('td:eq(4)').text());
        })
        $('tr:last').children().first().next().text(num);
    }
    
    $('.a').click(function () {
        let a=$(this).parent().prev().text();
        let b=$('tr:last').children().first().next().text();
        $('tr:last').children().first().next().text(b-a);
        $(this).parent().parent().remove();
    })
   
    $('#qingchu').click(function () {
        $('tr:not(:first):not(:last)').remove();
        $('tr:last').children().first().next().text('0');
    })
</script>

</html>